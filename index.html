<html>
<head>
  <meta charset="UTF-8">
	<script language="javascript" type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/p5.js/0.4.19/p5.js"></script>
	<script language="javascript" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.7/addons/p5.dom.js"></script>
	<script language="javascript" type="text/javascript" src="multi_scatter.js"></script>
	<script language="javascript" type="text/javascript" src="load_data_config.js"></script>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
</head>
<body>
	<div style="text-align: center">
		<h1>Animated scatterplot matrix</h1>
		<div>
			<label htmlFor="data-select">Select a dataset to display</label>
			<select id="data-select">
					<option value="abalone">abalone</option>
					<option value="diamonds">diamonds</option>
					<option value="iris">iris</option>
					<option selected value="synthetic">synthetic</option>
					<option value="wine">wine</option>
			</select>
		</div>
		<div id="chart" style="position: relative;"></div>
	</div>
</body>
<script language="javascript" type="text/javascript">
  var config;
	var chart;

  function onDataSelect() {
		config = get_data_config();
		remove();
    chart = multi_scatter(config.path, config.attr, config.category, config.animate, "", "chart");
	  new p5();
	}
  document.getElementById("data-select").addEventListener("change", onDataSelect);
	
	config = get_data_config();
  chart = multi_scatter(config.path, config.attr, config.category, config.animate, null, "chart");

  function preload() {
		chart.preload();
	}
	
	function setup() {
		chart.setup();
	}
	
	function draw() {
		chart.draw();
	}
	
	function mouseClicked() {
		chart.mouseClicked();
	}
	
	function mousePressed() {
		chart.mousePressed();
	}

	function mouseReleased() {
		chart.mouseReleased();
	}

	function mouseMoved() {
		chart.mouseMoved();
	}
	
	function mouseDragged() {
		chart.mouseDragged();
	}

</script>
</html>